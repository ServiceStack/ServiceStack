<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>MyApp</title>
    <base href="/" />
    <link href="css/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link href="css/typography.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="css/main-layout.css" rel="stylesheet" />
    <link href="MyApp.Client.styles.css" rel="stylesheet" />
    <script src="_content/Blazor.Extensions.Logging/blazor.extensions.logging.js" defer></script>
</head>

<body>
    <div id="app">
        <!-- loading: render temp static app chrome to improve perceived performance -->
        <div id="app-loading" class="main-layout page">
            <div class="sidebar">
                <div class="top-row navbar navbar-dark">
                    <a class="navbar-brand ps-4" href="/">MyApp</a>
                    <button class="navbar-toggler"><span class="navbar-toggler-icon"></span></button>
                </div>
                <div class="collapse">
                    <ul class="nav flex-column"></ul>
               </div>
            </div>
            <div class="main">
                <div class="main-top-row px-4">
                    <ul class="nav nav-pills"></ul>
                    <a href="signin?return=docs/deploy" class="btn btn-outline-primary">Login</a>
                </div>
                <div class="content px-4">

<div class="prose lg:prose-xl m-3">
    <div class="markdown-body">
        <h1 id="improving-ux-with-prerendering">Improving UX with Prerendering</h1>
<blockquote>
<p>... TODO ...</p>
</blockquote>

    </div>
</div>

                </div>
            </div>
        </div>
    </div>

<script>
const SIDEBAR = [
    'Home,home,/$',
    'Counter,plus,/counter',
    'Todos,clipboard,/todomvc',
    'Bookings CRUD,calendar,/bookings-crud',
    'Call Hello,transfer,/hello$',
    'Call HelloSecure,shield,/hello-secure',
    'Fetch data,list-rich,/fetchdata',
    'Deployments,cloud-upload,/docs/deploy',
    'Admin,lock-locked,/admin',
    'Login,account-login,/signin',
]
const TOP = [
    '0.40 /mo,dollar,/docs/hosting',
    'Prerendering,loop-circular,/docs/prerender',
    'Deployments,cloud-upload,/docs/deploy',
]

const path = location.pathname
const NAV = ({ label, cls, icon, route, exact }) => `<li class="nav-item${cls}">
    <a href="${route}" class="nav-link${(exact ? path == route : path.startsWith(route)) ? ' active' : ''}">
        <span class="oi oi-${icon}" aria-hidden="true"></span> ${label}
    </a></li>`

const sidebarInfo = (label, icon, route) => ({ label,
    cls:` px-3${route==SIDEBAR[0].route?' pt-3':''}`,icon,route:route.replace(/\$$/,''), exact:route.endsWith('$')
})
const $1 = s => document.querySelector(s)
    $1('#app-loading .sidebar .nav').innerHTML = SIDEBAR.map(s => NAV(sidebarInfo.apply(null, s.split(',')))).join('')

const topInfo = (label, icon, route) => ({label,cls:'',icon,route:route.replace(/\$$/,''), exact:route.endsWith('$')})
    $1('#app-loading .main-top-row .nav').innerHTML = TOP.map(s => NAV(topInfo.apply(null, s.split(',')))).join('')

$1('#app-loading .navbar-toggler').onclick = function () {
    this.parentElement.parentElement.firstElementChild.nextElementSibling.classList.toggle('collapse') }
</script>
 
    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ðŸ—™</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>

<script>
/* ShellCommand */
window.copy = function(target) {
    let $el = document.createElement("input")
    let $lbl = target.parentElement.querySelector('label')

    $el.setAttribute("value", $lbl.innerText)
    document.body.appendChild($el)
    $el.select()
    document.execCommand("copy")
    document.body.removeChild($el);

    if (typeof window.getSelection == "function") {
        const range = document.createRange()
        range.selectNodeContents($lbl)
        window.getSelection()?.removeAllRanges()
        window.getSelection()?.addRange(range)
    }

    setTimeout(function () { successText.value = '' }, 3000)
}
</script>
</body>

</html>
